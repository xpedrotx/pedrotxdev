<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedrotx Biometria</title>
    <link rel="icon" href="images/logo.png" type="image/png">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff; /* Modo claro */
            transition: background-color 0.3s, color 0.3s;
        }
        h1 {
            color: #2c3e50; /* Cor padr√£o do t√≠tulo */
            text-align: center;
            position: relative;
        }
        .toggle-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .toggle-button:hover {
            background-color: #34495e;
        }
        .aba {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }
        .aba button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
        }
        .aba button:hover {
            background-color: #ddd;
        }
        .aba button.ativo {
            background-color: #ccc;
        }
        .conteudo-aba {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
        }
        form {
            display: grid;
            gap: 10px;
        }
        label {
            font-weight: bold;
        }
        input[type="text"],
        input[type="number"],
        input[type="date"] {
            width: 90%; /* Diminu√≠do para 90% */
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        input[type="submit"] {
            background-color: #2c3e50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        input[type="submit"]:hover {
            background-color: #34495e;
        }
        input:disabled {
            background-color: #f0f0f0;
            color: #666;
            border: 2px solid #000000;
            cursor: not-allowed;
        }
        .aviso-entrada {
            color: #666;
            font-size: 0.8em;
            margin-top: 2px;
        }
        footer {
            text-align: center;
            padding: 20px;
            width: 100%;
        }
        p {
            font-size: 14px; 
            font-weight: 400; 
            color: #aaaaaa; 
        }

        /* Estilo do modo escuro */
        body.dark-mode {
            background-color: #2c3e50;
            color: #ffffff;
        }
        h1.dark-mode {
            color: #ffffff; /* Cor do t√≠tulo no modo escuro */
        }
        .aba.dark-mode {
            background-color: #3a4b5a;
        }
        .conteudo-aba.dark-mode {
            background-color: #3a4b5a;
            border: 1px solid #5c6b76;
        }
        input[type="submit"].dark-mode {
            background-color: #5a6e7d;
        }
        input[type="submit"].dark-mode:hover {
            background-color: #627d8b;
        }
        input:disabled.dark-mode {
            background-color: #4a4a4a;
            color: #999;
        }
        .aviso-entrada.dark-mode {
            color: #ffffff; /* Alterado para branco no modo escuro */
        }
    </style>
</head>
<body>
    <h1 class="title">üêü Sistema de Biometria para Peixes üêü</h1>
    <button class="toggle-button" onclick="toggleDarkMode()">Modo Escuro</button>

    <div class="aba">
        <button class="botoes-aba" onclick="abrirAba(event, 'dadosIniciais')">Dados Iniciais</button>
        <button class="botoes-aba" onclick="abrirAba(event, 'dadosDiarios')">Dados Di√°rios</button>
    </div>

    <div id="dadosIniciais" class="conteudo-aba">
        <h2>Dados Iniciais do Lote</h2>
        <form id="formDadosIniciais">
            <label for="numeroTanque">N√∫mero do Tanque:</label>
            <input type="number" id="numeroTanque" name="numeroTanque" required>

            <label for="dataAlojamento">Data de Alojamento:</label>
            <input type="date" id="dataAlojamento" name="dataAlojamento" required>

            <label for="areaTanque">√Årea do Tanque (m¬≤):</label>
            <input type="number" id="areaTanque" name="areaTanque" step="0.01" required>

            <label for="totalPeixes">N√∫mero Total de Peixes:</label>
            <input type="number" id="totalPeixes" name="totalPeixes" required>

            <label for="pesoMedioInicial">Peso M√©dio Inicial (kg):</label>
            <input type="number" id="pesoMedioInicial" name="pesoMedioInicial" step="0.001" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="biomassa">Biomassa (kg):</label>
            <input type="number" id="biomassa" name="biomassa" step="0.01" required>

            <label for="peixesPorMetroQuadrado">Peixes por m¬≤:</label>
            <input type="number" id="peixesPorMetroQuadrado" name="peixesPorMetroQuadrado" step="0.01" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="mortalidadeAlojamento">Mortalidade do Alojamento:</label>
            <input type="number" id="mortalidadeAlojamento" name="mortalidadeAlojamento" required>

            <input type="submit" value="Salvar Dados Iniciais">
        </form>
    </div>

    <div id="dadosDiarios" class="conteudo-aba">
        <h2>Dados Di√°rios do Lote</h2>
        <form id="formDadosDiarios">
            <label for="data">Data:</label>
            <input type="date" id="data" name="data" required>

            <label for="mortalidade">Mortalidade:</label>
            <input type="number" id="mortalidade" name="mortalidade" required>

            <label for="saldoPeixes">Saldo de Peixes:</label>
            <input type="number" id="saldoPeixes" name="saldoPeixes" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="peixesCapturados">Peixes Capturados:</label>
            <input type="number" id="peixesCapturados" name="peixesCapturados" required>

            <label for="pesoMedio">Peso M√©dio (kg):</label>
            <input type="number" id="pesoMedio" name="pesoMedio" step="0.001" required>

            <label for="ganhoPesoDiario">Ganho de Peso Di√°rio (g):</label>
            <input type="number" id="ganhoPesoDiario" name="ganhoPesoDiario" step="0.1" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="biomassaTotal">Biomassa Total (kg):</label>
            <input type="number" id="biomassaTotal" name="biomassaTotal" step="0.01" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="ganhoBiomassa">Ganho de Biomassa (kg):</label>
            <input type="number" id="ganhoBiomassa" name="ganhoBiomassa" step="0.01" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <label for="ganhoBiomassaAcumulado">Ganho de Biomassa Acumulado (kg):</label>
            <input type="number" id="ganhoBiomassaAcumulado" name="ganhoBiomassaAcumulado" step="0.01" disabled>
            <div class="aviso-entrada">Campo calculado automaticamente. N√£o pode ser editado.</div>

            <input type="submit" value="Salvar Dados Di√°rios">
        </form>
    </div>

    <script>
        // Fun√ß√£o para alternar entre o modo claro e escuro
        function toggleDarkMode() {
            const body = document.body;
            const toggleButton = document.querySelector('.toggle-button');
            const title = document.querySelector('.title');
            const avisosEntrada = document.querySelectorAll('.aviso-entrada');

            body.classList.toggle('dark-mode');
            title.classList.toggle('dark-mode');
            toggleButton.innerText = body.classList.contains('dark-mode') ? 'Modo Claro' : 'Modo Escuro';

            // Altera a classe para os avisos de entrada
            avisosEntrada.forEach(aviso => {
                aviso.classList.toggle('dark-mode');
            });
        }

        function abrirAba(evento, nomeAba) {
            var i, conteudoAba, botoesAba;
            conteudoAba = document.getElementsByClassName("conteudo-aba");
            for (i = 0; i < conteudoAba.length; i++) {
                conteudoAba[i].style.display = "none";
            }
            botoesAba = document.getElementsByClassName("botoes-aba");
            for (i = 0; i < botoesAba.length; i++) {
                botoesAba[i].className = botoesAba[i].className.replace(" ativo", "");
            }
            document.getElementById(nomeAba).style.display = "block";
            evento.currentTarget.className += " ativo";
        }

        // Abrir a primeira aba por padr√£o
        document.getElementsByClassName("botoes-aba")[0].click();

        // C√°lculos autom√°ticos para os dados iniciais
        document.getElementById("formDadosIniciais").addEventListener("input", function(e) {
            if (e.target.id === "totalPeixes" || e.target.id === "biomassa") {
                const totalPeixes = parseFloat(document.getElementById("totalPeixes").value) || 0;
                const biomassa = parseFloat(document.getElementById("biomassa").value) || 0;
                if (totalPeixes > 0) {
                    document.getElementById("pesoMedioInicial").value = (biomassa / totalPeixes).toFixed(3);
                }
            }
            if (e.target.id === "totalPeixes" || e.target.id === "areaTanque") {
                const totalPeixes = parseFloat(document.getElementById("totalPeixes").value) || 0;
                const areaTanque = parseFloat(document.getElementById("areaTanque").value) || 0;
                if (areaTanque > 0) {
                    document.getElementById("peixesPorMetroQuadrado").value = (totalPeixes / areaTanque).toFixed(2);
                }
            }
        });

        // C√°lculo do saldo de peixes para os dados di√°rios
        document.getElementById("formDadosIniciais").addEventListener("submit", function(e) {
            e.preventDefault();
            const totalPeixes = parseFloat(document.getElementById("totalPeixes").value) || 0;
            const mortalidadeAlojamento = parseFloat(document.getElementById("mortalidadeAlojamento").value) || 0;
            const saldoInicial = Math.round((totalPeixes - mortalidadeAlojamento) * 0.95);
            const pesoMedioInicial = parseFloat(document.getElementById("pesoMedioInicial").value) || 0;
            localStorage.setItem("saldoInicialPeixes", saldoInicial);
            localStorage.setItem("pesoMedioInicial", pesoMedioInicial);
            alert("Dados iniciais salvos com sucesso!");
        });

        document.getElementById("formDadosDiarios").addEventListener("input", function(e) {
            if (e.target.id === "mortalidade" || e.target.id === "pesoMedio") {
                const saldoInicial = parseInt(localStorage.getItem("saldoInicialPeixes")) || 0;
                const pesoMedioInicial = parseFloat(localStorage.getItem("pesoMedioInicial")) || 0;
                const mortalidade = parseInt(document.getElementById("mortalidade").value) || 0;
                const pesoMedio = parseFloat(document.getElementById("pesoMedio").value) || 0;

                // C√°lculo do saldo de peixes
                const saldoPeixes = saldoInicial - mortalidade;
                document.getElementById("saldoPeixes").value = saldoPeixes;

                // C√°lculo do ganho de peso di√°rio
                const ganhoPesoDiario = (pesoMedioInicial - pesoMedio) * 1000 * mortalidade;
                document.getElementById("ganhoPesoDiario").value = ganhoPesoDiario.toFixed(1);
            }
        });

        document.getElementById("formDadosDiarios").addEventListener("submit", function(e) {
            e.preventDefault();
            alert("Dados di√°rios salvos com sucesso!");
        });
    </script>
    <footer>
        <p>&copy; Copyright 2023-2024 Pedrotx. Todos os direitos reservados.</p>
    </footer>
</body>
</html>
